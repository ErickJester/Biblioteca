<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Registrarse</title>
</head>
<body>
<header><h1>Registrate</h1></header>
<form action="registrar_usuario.php" method="POST" onsubmit="return validarFormulario();">
    <label>Tipo de Usuario: </label><select id="tipo_usuario" name="tipo_usuario" required="true"><option value="Lector">Lector</option></select>
    <label>Nombre: </label><input id="nombre" name="nombre" required="true" type="text"/>
    <label>Apellido Paterno: </label><input id="apellidoP" name="apellidoP" required="true" type="text"/>
    <label>Apellido Materno: </label><input id="apellidoM" name="apellidoM" required="true" type="text"/>
    <label>Fecha de Nacimiento: </label><input id="fecha_nacimiento" name="fecha_nacimiento" required="true" type="date"/>
    <label>Teléfono: </label><input id="telefono" name="telefono" required="true" type="text"/>
    <label>Correo Electrónico: </label><input id="correo" name="correo" required="true" type="text"/>
    <button type="submit">Enviar</button>
</form>
<script>
function validarFormulario() {
    const tipo = document.getElementById("tipo_usuario").value;
    const codigo = document.getElementById("codigo_usuario").value;
    let regex;

    switch (tipo) {
        case "Administrador":
            regex = /^A\d{3}$/;
            break;
        case "Bibliotecario":
            regex = /^B\d{3}$/;
            break;
        case "Lector":
            regex = /^C\d{4}$/;
            break;
        default:
            alert("Tipo de usuario inválido");
            return false;
    }

    if (!regex.test(codigo)) {
        alert("Código de usuario inválido para el tipo seleccionado.");
        return false;
    }

    return true;
}
</script></body>
</html>